<div class="password-confirmation-modal">
  <form [formGroup]="form" (ngSubmit)="confirm()">
    <div class="modal-content">
      <div class="confirmation-message mb-4">
        <i class="pi pi-exclamation-triangle text-orange-500 mr-2" style="font-size: 1.5rem;"></i>
        <span class="text-lg">
          Please enter your password to {{ action }}.
        </span>
      </div>

      <div class="field">
        <label for="password" class="block font-medium mb-2">Password *</label>
        <input
          id="password"
          type="password"
          pInputText
          formControlName="password"
          class="w-full"
          [class.ng-invalid]="passwordControl?.invalid && (passwordControl?.dirty || passwordControl?.touched || submitted)"
          placeholder="Enter your password"
          autofocus
          autocomplete="current-password"
        />
        <small 
          *ngIf="passwordControl?.invalid && (passwordControl?.dirty || passwordControl?.touched || submitted)"
          class="p-error block mt-1"
        >
          <span *ngIf="passwordControl?.errors?.['required']">Password is required.</span>
          <span *ngIf="passwordControl?.errors?.['minlength']">Password cannot be empty.</span>
        </small>
      </div>
    </div>

    <div class="modal-footer flex justify-content-end gap-2 pt-4">
      <button
        type="button"
        pButton
        pRipple
        label="Cancel"
        class="p-button-outlined p-button-secondary"
        (click)="cancel()"
      ></button>
      <button
        type="submit"
        pButton
        pRipple
        label="Confirm"
        class="p-button-raised p-button-primary"
      ></button>
    </div>
  </form>
</div>